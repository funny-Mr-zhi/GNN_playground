麻省理工公开课 线性代数 MIT Linear Algebra

# Chapter1-2

> 可以带着问题去读，线性代数到底是什么，矩阵又是什么。尽管深入学习数学需要一种抽离出现实和直观理解的高度抽象思维，前期利用一些具体的现实映射示例有助于更好地理解和接受一套理论。
>
> 最终结论：矩阵分解A=LU是高斯消元求解n元方程组的抽象表示，高斯消元求解也是矩阵分解的一种具体现实映射，它帮助我们初步了解矩阵的妙用与可能的理解方式，为后续更广泛而奇妙的应用打下基础！(看到第一章最后就可以理解这句话，理解了这句话这一章也就学会了)

<font color="red" size = 4> 需要重点理解的用红色大字体标出</font>

## Class 1
> **Class 1:Explanation of the geometic equation system** 方程组的几何解释

**基本问题**：N linear equations , n unknowns. 求解N个线性等式的n个未知数

**三种视角**
* Row picture
* column picture
* matrix from

以二元一次方程组为例
$$\begin{align} 2x - y = 0\\
-x+2y = 3 \end{align}$$
用线性代数表示
$$\left[
\begin{array}{ccc}
2 & -1 \\
-1 & 2 
\end{array}
\right] 
\left[
\begin{array}{ccc}
x\\y
\end{array}
\right] = \left[ \begin{array}{ccc} 0\\3 \end{array} \right]$$
* 从`Row picture`看，是二维空间的两条直线，交点即为解
* 从`column picture`看，是二维空间的两个向量，通过`linear combination`线性组合合成`(0, 3)`
* 从`Matrix form`看，计算左侧结构，可以当成矩阵乘法，也可以分解为`column picture`求解

具体解法中，图解只能在低维度使用，高维度不够直观，会用系统性的消元法解。这里重点关注`线性组合`，也就是理解列视角的看问题的方式。

一个常见的基本问题：
* Can I solve Ax = b for every b
* or say: Do the linear combinations of the columns fill N-D space
* 这个问题的答案与奇异\非奇异，可逆\非可逆有关

## Class 2
> elimination消元法解方程组

以三元一次方程组为例，一个自然的想法是利用消元法求解。

对应到矩阵上$Ax = b$，对角线上的元素称为主元，消元最终目的是主元下方的元素全部为0，且主元不为零。满足条件后，说明求解成功，通过回代可以求出所有变量的解。
* 从第一行开始，若当前主元行的主元不为零，则讲该行整体叠加到下面的行，确保主元下方元素都为0
* 若当前行主元为零，则可以交换主元行和其它行的位置，再次尝试第一步
* 逐行处理，若对角线主元全部非零且主元下方全部为零（上三角矩阵），则求解成功
    * 回代：在所有过程中间矩阵右侧补充b列，称为argumented matrix增广矩阵
    * b同步叠加操作，结果从最后一行开始向上逐行解出变量值
* 若无法满足上一步的要求，求解失败
> 该处理步骤可以和直接在方程组上进行消元的操作一一对应，直接目的就是消元。

**从另一个角度理解**：如何看待矩阵运算（一种行列变换）
```
|a b c| |x|      |a|     |b|     |c|
|d e f| |y| =  x |d| + y |e| + z |f|    //右侧列分解列叠加
|g h i| |z|      |g|     |h|     |i|

        |a b c|    
|x y z| |d e f| = x |a b c| + y |d e f| + z |g h i|  //左侧行分解行叠加
        |g h i|
 
|a b|   |0 1| 
|c d|   |1 0|   等效于对左侧矩阵进行列置换，右侧变换矩阵进行列变换

|0 1|   |a b|   
|1 0|   |c d|   等效于对右侧矩阵进行行置换，左侧变换矩阵进行行变换

|1 0|   |a   b|    |a    b|
|2 1|   |-2a d|  = |0 d+2b|
等效于对右侧矩阵进行行变换，第一行不变，第二行为二倍第一行叠加过来
```
<font color="red" size = 4> 深入理解矩阵乘与行列变换的对应关系！ </font>

有了上面的理解，消元无非是行变换，也就是在A左侧不断乘上新的矩阵达到消元的目的。即消元过程可表示为$E_{x}\dots(E_{1}A) = U$ 其中U为上三角矩阵。(这里注意，矩阵乘法有结合律，但没有交换律)

进一步可以思考逆矩阵的概念，从上面的理解角度，就是通过逆变换消除原来变换的影响
```
|1  0| |1   0| |a b|
|3  1| |-3  1| |c d|
以上两个左侧矩阵为逆变换，先是R2 = R2 - 3R1再是R2 = R2 + 3R1，还原回A
```

## Class 3
* Matrix mutiplication
* Inverse of A
* Gauss-Jordan find $A^{-1}$

首先学习矩阵乘法的四种计算方式，结果是一样的，四种方式事实上从四个角度理解矩阵乘法

### 矩阵乘法
对于矩阵乘法$AB = C$
* 方式一: $C_{ij} = (Row_j\quad of\quad A)\quad ·\quad ( Col_i\quad of\quad B)$

$$C_{ij} = \sum_{k=1}^n a_{ik}b_{kj}$$
* 方式二：C的每一列由A的列的线性组合得到，C的第k列由B的第K列与A矩阵定义的线性组合得到
* 方式三：C的每一行由B的行的线性组合得到，C的第k行由A的第K行与B矩阵定义的线性组合得到
* 方式四：$C = \sum_{k=1}^{n}((Col_k\quad of \quad A) · (Row_k\quad of\quad B))$
> 这种理解方式是从多个视角观察矩阵乘法时到底发生了什么。
从AB角度看，可以拆分为`行列乘、矩阵与列乘、行与矩阵乘、列行乘`。
从C角度看，可以认为是`一次计算一个元素、一次计算一列，一次计算一行，一次计算整个矩阵的部分分量`

### 矩阵的逆与Gauss-Jordan
对于一个矩阵A，定义A的逆为$A^{-1}$
$$A^{-1}A = I = AA^{-1}$$

关注两个问题：A的逆是否存在，以及如何求A的逆（此时可以与解方程组联系起来）

定理：若能找到非零向量`x`使得，$Ax=0$，则A不可逆
> 反正法解释：若存在A的逆，$Ax=0$说明$Ix = A^{-1}0 = 0$，若`x`非零显然矛盾，单位矩阵乘非零向量不可能为零。

`Gauss-Jordan`目的是一次解多个N元方程组
```
|1 3|  |a c| = |x y|
|2 7|  |b d|   |i j|    可以理解为解两组方程

第一组是：
|1 3|  |a| = |x|
|2 7|  |b|   |i|        第二组由B和C的另外一列构成，省略

解法为将原A和C拼接，写成增广矩阵|A C|
|1 3 x y|
|2 7 i j|
然后对左侧A部分进行消元
|1 3 x    y   |
|0 1 i-2x j-2y|         
以上是Guass做法，Jordan继续消除A对角线以外其它元素（矩阵内运算替代回代过程）
|1 0 -3i+7x -3j+7y|
|0 1 i-2x   j-2y  | 
这样就解出a, b和c, d了

求逆是可以利用Gauss-jordan，令右侧C=I
|A I|进行Gauss-jordan计算求解
得到|I E|这里，由于EA=I，则可以得出E即为要求解的A的逆
```
> 到这里为止，线性代数可以看作对于$AB = C$中，知道任意两个矩阵，求另一个矩阵的范畴。
>
> 对于AB = Col of C，可以等效为求解一个N元方程。这是矩阵乘法和多元方程求解的对应关系。
>
> 通过矩阵分块和矩阵运算在等式两侧同时乘上一个矩阵，等式仍成立（以及矩阵运算分配律、结合律）可以通过一些有趣的方法实现系统性的计算过程。

<font color="red" size = 4> 理解Gauss-Jordan算法中用到的矩阵运算技巧，以及每一个运算过程对应的实际含义 </font>

## Class4
* 矩阵求逆和转置的公式
* 矩阵分解 A = LU
* 矩阵分解复杂度
* 矩阵置换的组合与群

### 矩阵求逆和
$$(AB)^{-1} = B^{-1}A^{-1}\quad (1)$$
前提是在A，B有逆。该公式较为容易理解，(AB)的逆应该与(AB)左乘右乘都为I， $B^{-1}A^{-1}$显然满足

$$(A^T)^{-1} = (A^{-1})^T\quad (2)$$
以式子$(AB)^T = B^TA^T$为基础，$(A^{-1})^TA^T = (AA^{-1})^T = I$，即$A^{T}$的逆为$(A^{-1})^T$

### 矩阵分解
> 一种较为基础的分解：将A分解为L和上三角矩阵U

* 在高斯消元法中，为了得到上三角矩阵$U$，使用E与A相乘得到U。
* 通常，E可以表示为若干步骤的行变换（若A可解的话）
  * e.g.对3x3矩阵，E可分解为$E_{32}E_{31}E_{21}$，其中$E_{ij}$表示E为在I的基础上，第i行j列非零的矩阵，即将j列叠加到i行以消除A中主元下方i行的元素的变换
* 对于$EA = U$可以写成$A = E^{-1}U$，这里$E^{-1}$就是我们要求的L
* 通常$E^{-1}$写成若干$(E_{ij})^{-1}$相乘的形式，若采用这种分开写的形式和行变换视角理解矩阵乘和求逆计算，求解L的整个过程不需要任何演算，全部心算即可完成。

以下为示例
```
以3x3矩阵为例
假设E = E32 E21 (A31天然为0， 简化说明过程)
不妨令
    |1 0 0| |1 0 0|
E = |0 1 0|*|4 1 0|
    |0 3 1| |0 0 1|
则L = E32的逆 * E21的逆
    |1  0 0| |1  0 0|
L = |-4 1 0|*|0  1 0|
    |0  1 1| |0 -3 1|  利用行变换思路理解求逆，直接加负号就行
    |1  0 0|
L = |-4 1 0|
    |0 -3 1|  利用行变换思路求矩阵乘，很快
```
> 对于求L的过程，如果严格按照分解E的过程来写，并从行变换角度理解矩阵求逆和矩阵乘法。整个过程会很简单。因为过程中出现的所有矩阵求逆和矩阵乘法的结果从行变换的角度来看都可以一眼看出结果

> 由此再观察矩阵分解式子：$A = LU$。我们关注的就只是E代表的矩阵列表，得到这个列表后只需求逆，然后逆序相乘即可。

### 矩阵分解复杂度分析

每一次求加法或减法视为一次计算

对于n\*n的矩阵
* 第一次讲(1, 1)主元下的元素全部消为0，涉及下面(n-1)行的叠加计算，共(n\*n-1)次计算，近似为$n^2$
* 第二次为$(n-1)^2$，后续以此类推
* 总共需要$n^2 + (n-1)^2 + \dots 1^2$次计算，利用微积分知识可近似为$1/3n^3$

> 该矩阵分解的过程事实上是在模拟高斯消元的过程，对于右侧b的变化其复杂度可以近似为$n^2$

### 转置及一些性质
转置$(A^T)_{ij} = A_{ji}$

满足$A = A^{T}$的矩阵A为对阵矩阵(symmetirc matirx)

$(AB)^T = B^TA^T$

任意矩阵$R$,有 $R^{T}R$为对阵矩阵。证明用上面的式子即可。

### 矩阵置换的组合与群
置换(Permutation)：行交换
* 对于一个n*n的矩阵，行置换共有n!种可能
* 置换满足$ P^{-1} = P^T $

> 由于置换组合已经覆盖了所有可能的置换方式，所有置换组合相乘或取逆，其结果仍是一种置换，也就仍是置换的一种。这种不论如何计算结果仍在原先集合内的性质，比较类似群的概念。

### A=LU的完整表达
> 由于在消元过程中可能出现主元为0的情况，需要对A进行置换操作(Permutation: 行交换)，这样就可以确保完成对所有可逆矩阵的分解，转置矩阵用P表示

$$PA = LU$$


## 章小结

至此第一章完结，从最开始的解n元方程组入手，逐步引入了矩阵的概念

认识矩阵有多种方式，矩阵也有很多奇妙的性质。通过矩阵的运算，也可以理解为矩阵的变换，我们从一个完全不同的角度尝试了n原方程组的求解。基本的矩阵分解的一种形式(A = LU)事实上模拟了高斯消元的过程，但整个过程种只包含非常简单的矩阵运算(或者更直观一点说是变换)。

本质上我们做的事还是求解n元方程组，但是矩阵用一种高度概括和抽象的视角抽离出问题求解的关键所在，并用优雅且简单的抽象变换完成了问题的求解。

矩阵的变换和直接在n原方程上进行加减叠加消元的每一步操作是可以完全对应上的。就是对问题本质的高度抽象。然而这是n元方程求解的全部，但不是线性代数的全部，矩阵的应用远不止这些。后续章节应该会更深入的理解线性代数及其用途。

> <font color="red" size = 4>矩阵分解A=LU是高斯消元求解n元方程组的抽象表示，高斯消元求解也是矩阵分解的一种具体现实映射，它帮助我们初步了解矩阵的妙用与可能的理解方式，为后续更广泛而奇妙的应用打下基础！</font>


# Chapter3
> 接下来从向量空间、子空间开始。由此才算真正入门线性代数

## Class5
> 向量空间与子空间：从更高的角度审视线性代数（线性组合）

> 这里我按照自己的理解重新组织该节课的顺序，用更适合文字描述的顺序展开向量空间和子空间的内容。

**线性组合**：线性代数中的基础概念，指通过数乘(用常数乘以向量/函数等)和加法两种，将一组元素(向量、多项式、函数等)组合成新的元素

**向量空间**

示例说明

e.g.
* $R^2$ = all 2-dim real vectors. Like $\begin{bmatrix} 3\\2\end{bmatrix}$ $\begin{bmatrix} 0\\0\end{bmatrix}$ $\begin{bmatrix} \pi\\e\end{bmatrix}$，可以视为从原点指向这些坐标点的向量
* $R^n$ = all column vectors with n real components.

一个向量空间是一个对线性组合(加法和数乘)封闭的集合。

> 封闭指的是，$R^2$中任意向量线性组合(加法和数乘)操作后仍属于$R^2$

**子空间**

子空间仍满足向量空间的线性组合封闭性。示例说明

$R^2$的子空间有如下三种
* 整个$R^2$空间
* 一条通过$\begin{bmatrix} 0\\0\end{bmatrix}$的直线。（不是$R^1$，一个是一维的，一个是二维的）
* 一个点(原点)

**新的视角**

对于矩阵$\begin{bmatrix} 1 & 3\\2 & 3 \\ 4 & 1\end{bmatrix}$，分列来看。列向量是在$R^3$向量空间中的。其所有列构的线性组合成其线性空间$C(A)$,该向量空间穿过原点，且不等于$R^3$, 只是$R^3$的一个子空间。（若把这个矩阵视为方程组，其解空间显然也是只整个$R^3$空间的一个子空间，不能保证所有情况下都有解，除非解就在这个子空间里面）

<font color="red" size = 4>新的启发：可以用列空间的视角去重新审视 Ax = b 。
线性代数从这里入门。体会线性组合与向量空间(子空间)的联系，这两个应该是线性代数的关键概念，理解后就具备了线性代数的基本思维方式</font>

## Class6

回顾：
* 向量空间：一些列向量构成的子集，通过线性组合(V+W)或cV后，结果仍在集合内
* 子空间：**过原点**的仍满足向量空间要求的向量构成的集合
    * 设一个向量空间的两个不同的子空间为P和L, 有$P \cap L$仍为子空间, $P \cup L$不为子空间

本节重点关注：向量空间、子空间

以Ax = b为依托展开
```
不妨令
    |1 1 2|
A = |2 1 3|
    |3 1 4|
    |4 1 5|
```
**A的列空间为$R^4$中的一个子空间C(A),由三个列所有可能的线性组合构成**

> 由此引出一个问题，Ax=b对于任意b都有解吗？如果不是的话，什么样的b会令方程有解

很明显C(A)并不是$R^4$，也就是A中三列的线性组合结果无法覆盖整个$R^4$空间，自然不是对任意b都有解。有解的b必须要在C(A)空间里。

> 这样理解其实有点带着答案解问题的意思。C(A)其实就代表了[x, y, z]取所有情况时能得到的Ax的所有结果。这里我们反过来问结果可以是哪些，给出的答案是C(A)。当然可能这就是线性代数的思维方式，我们也确实找到了这种思维方式的合理性，本来这样想就没有问题。可能后面线性代数会针对列空间，向量空间等概念再做抽象，得到一些不那么显而易见的结论。

**A的零空间由令Ax = 0的所有x构成**

零空间一定包含原点。且零空间也是向量空间

( x取原点Ax=0一定成立 )

( 若存在$Av=0, Aw=0$，则有$A(v+w)=0， A(12v)=0$,满足向量空间要求 )

> 思考：C(A)到底是几维的？

这里涉及到**线性无关**的概念。这里先只作感性理解，线性无关换一种说法是：A中所有列是否对C(A)有贡献，或着说：去除A中某列后，C(A)是否还保持不变。

# Class7

> 将之前的idea和definition变成算法

利用$Ax = 0$求解A的零空间。

```
假设
    |1 2 2 2 |
A = |2 4 6 8 |
    |3 6 8 10|
第一步消元，可以行变换或行置换
    |1 2 2 2|   |1 2 2 2|
A = |0 0 2 4| = |0 0 2 4| = U， Ux = 0
    |0 0 2 4|   |0 0 0 0|
这里U是阶梯矩阵，每行的第一个非零元素构成阶梯，这些元素称为主元，主元的个数就是矩阵的秩

第二步，让主元同列其他元素都为零，主元为1，可以行变换或行置换，行放缩
    |1 2 0 -2|   |1 2 0 -2|
U = |0 0 2  4| = |0 0 1  2| = R, Rx = 0
    |0 0 0  0|   |0 0 0  0|
R又叫简化的阶梯矩阵

第三步，解
    |I F|
R = |0 0|， I代表了主元行/列，F代表了自由列

RN = 0，N= |-F|
           |I |     N各列的线性组合即为零空间
```
> 求解A的零空间，即求解所有使得$Ax = 0$的x所在空间
>
> 首先通过消元法得到阶梯矩阵U，U中就已经能看出主元列和自由列。x就是由任意的自由列所确定的，自由列对应的列系数确定后，主元列系数随之确定。
>
> U还可以进一步简化，将主元同列的元素全部化为零元素，主元为1，得到简化阶梯矩阵R。A，U上可以进行的变换有R2=aR1+bR2

> 理解：阶梯矩阵中，每一行中的元素按照x指定的系数组合后都应该为0。
* 在简化阶梯矩阵中，主元只出现在一个行中，不论其它元素怎么取，主元总能配平，确保线性组合结果为0。所以自由列可以任取
* 在阶梯矩阵中，可以按照特定顺序回代，只要顺序正确，主元还是可以配平任意的自由部分
> 所以这里解零空间，本质上就是在识别主元列和自由列(找到矩阵的秩), 自由列理论上可以任取。这里N中令所有自由列对应的系数(解)依次为1，每一列都是一个解向量，得到的所有解向量(n-r个,列数-秩)进行线性组合就是零空间。

# Class 8
> Ax=b的可解性和解的结构


Ax=b可解：以下两种都是等价描述
* 当且仅当 b 在A的列空间C(A)中
* 当且仅当A的列的任意组合为**0**时，b对应的元素组合也要为0

**解的结构**
$$X = X_p+X_n$$

$$特解X_p = {自由变量取0，主元满足b要求的一组解}$$

$$零空间X_n = {令（AX=0）的X的列空间}$$

**解的情况**
对于m行n列的矩阵A，秩为r。 (其中$r \le n, r \le m$)

秩与mn的关系|$r=n<m$满秩|$r=m<n$满秩|$r=m=n$满秩|非满秩
--|--|--|--|--
满秩类型|列满秩|行满秩|行列满秩|-
R|$\begin{bmatrix} I\\0\end{bmatrix}$|$\begin{bmatrix} I&F\end{bmatrix}(I和F和列可穿插)$|$\begin{bmatrix} I\end{bmatrix}$|$\begin{bmatrix} I& F\\0& 0\end{bmatrix}$
自由变量个数|无|n-m(即n-r)|无|n-r
解的情况|0~1|1~无穷|对任意b有唯一解|0或无穷解
解释|**0**行对应的b为0无解|有自由列，即有无穷多解|不存在**0**行，且无自由列|有**0**行，有自由列

> 通过行变换得到简化的阶梯矩阵R,R大致可以分成几个部分:主元单位阵、自由列F、零行。
* 若含0行，则可能无解，不含0行则对任意b有解
* 若含自由变量，则可以有无穷多解。不含则最多有一个解
* 对于非满秩，不含0行和自由变量，对任意b都有唯一解。

# Class 9

线性无关、生成空间、基、维数

> 线性无关、生成空间和基都是针对一组向量的概念

**线性无关**：对于向量组$X_1, X_2, \dots, X_n$，存在$c_1X_1, c_2X_2, \dots, c_nX_n \ne 0(除了C=0时)$

**生成空间**: 包含一个向量组所有可能的线性组合的空间

**基**：对于一个空间，其基是满足两个条件的向量组。一是线性无关、二是生成该空间。

**维数**：一个空间的基包含的向量个数就是该空间的维数。

> 矩阵视角，当利用一个向量组作为列向量构成矩阵A时。`线性无关`等价于`零空间只包含零向量`。`生成空间`等价于`列空间`。

$$Rank(A)=\#pivot\quad columns = dim(C(A))$$

$$n-Rank(A) = \#free\quad variables = dim(N(A))$$

> 向量组中线性无关、生成空间和基的概念都可以对应到矩阵的相关概念上，加深理解。

# Class10

四个基本子空间

对于一个向量组，作为列向量构成一个矩阵A

子空间|符号|维度|空间表示
--|--|--|--
列空间|$C(A)$|r|化R，主元列
零空间|$N(A)$|n-r|化R，自由列
行空间|$C(A^T)$|r|化R，主元行
左零空间|N(A^T)|m-r|化R，E中对应的R全为0的行

> $R^{n*n}$空间。
> 针对矩阵来讲，对于任意$3*3$矩阵的线性组合运算，构成$R^{3*3}$空间，其子空间可以为：所有上三角矩阵，所有对称矩阵，所有对角矩阵等。（符合线性组合封闭性质）